<section class="sc-sockets-settings-app standard-form" data-application-part="form">
  <div class="sc-sockets-settings-content">
    <div class="sc-sockets-settings-card">
      <div class="form-group section-heading">
        <div>
          <h4>{{strings.subtypeSelect}}</h4>
          <p class="notes">{{strings.subtypeHint}}</p>
        </div>
        <div class="gem-subtype-options-grid" data-subtype-options role="group" aria-label="{{strings.subtypeSelect}}">
          {{#each subtypeColumns}}
            <div class="gem-subtype-options-column">
              {{#each this}}
                <label class="gem-subtype-option" data-subtype-option {{#if this.isCustom}}data-custom="true"{{/if}}>
                  <input
                    type="checkbox"
                    name="subtypeChoices"
                    value="{{this.value}}"
                    data-subtype-choice
                    data-type-value="{{this.value}}"
                    {{#if this.selected}}checked{{/if}}
                  />
                  <span>{{this.label}}</span>
                </label>
              {{/each}}
            </div>
          {{/each}}
        </div>
      </div>
    </div>

    <div class="sc-sockets-settings-card">
      <div class="form-group custom-subtypes">
        <div class="custom-subtypes-header">
          <div>
            <h4>{{strings.custom.heading}}</h4>
            <p class="notes">{{strings.custom.hint}}</p>
          </div>
          <button type="button" class="dialog-button sc-sockets-settings-btn sc-sockets-settings-btn--ghost" data-action="addCustomSubtype">
            <i class="fas fa-plus"></i> {{strings.custom.add}}
          </button>
        </div>
        <table class="custom-subtype-table">
          <thead>
            <tr>
              <th scope="col">{{strings.custom.keyLabel}}</th>
              <th scope="col">{{strings.custom.labelLabel}}</th>
              <th scope="col" class="actions">&nbsp;</th>
            </tr>
          </thead>
          <tbody
            data-custom-subtypes
            data-placeholder-key="{{strings.custom.keyPlaceholder}}"
            data-placeholder-label="{{strings.custom.labelPlaceholder}}"
            data-remove-label="{{strings.custom.remove}}"
          >
            {{#each customSubtypes}}
              <tr data-subtype-row data-index="{{@index}}">
                <td>
                  <input
                    type="text"
                    name="customSubtypes.{{@index}}.key"
                    value="{{this.key}}"
                    placeholder="{{../strings.custom.keyPlaceholder}}"
                    data-custom-field="key"
                    autocomplete="off"
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="customSubtypes.{{@index}}.label"
                    value="{{this.label}}"
                    placeholder="{{../strings.custom.labelPlaceholder}}"
                    data-custom-field="label"
                    autocomplete="off"
                  />
                </td>
                <td class="actions">
                  <button type="button" class="dialog-button sc-sockets-settings-btn sc-sockets-settings-btn--ghost" data-action="removeCustomSubtype">
                    {{../strings.custom.remove}}
                  </button>
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <footer class="form-footer sc-sockets-settings-footer button-row">
    <button type="submit" class="dialog-button ok sc-sockets-settings-btn sc-sockets-settings-btn--primary" data-save-button>
      <i class="fas fa-floppy-disk"></i> <span class="save-label">{{strings.submit}}</span>
    </button>
  </footer>
</section>
